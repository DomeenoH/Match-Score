import{r as A}from"./index.CVf8TyFT.js";function U(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}var T={exports:{}},O={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L=A,B=Symbol.for("react.element"),$=Symbol.for("react.fragment"),z=Object.prototype.hasOwnProperty,C=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};function D(x,b,f){var h,_={},j=null,N=null;f!==void 0&&(j=""+f),b.key!==void 0&&(j=""+b.key),b.ref!==void 0&&(N=b.ref);for(h in b)z.call(b,h)&&!Z.hasOwnProperty(h)&&(_[h]=b[h]);if(x&&x.defaultProps)for(h in b=x.defaultProps,b)_[h]===void 0&&(_[h]=b[h]);return{$$typeof:B,type:x,key:j,ref:N,props:_,_owner:C.current}}O.Fragment=$;O.jsx=D;O.jsxs=D;T.exports=O;var v=T.exports;const k=[{id:1,text:"你对室内整洁度的要求是什么？",dimension:"lifestyle",options:[{value:1,label:"随性"},{value:2,label:"较随性"},{value:3,label:"普通"},{value:4,label:"较整洁"},{value:5,label:"洁癖"}]},{id:2,text:"你对伴侣的作息时间（熬夜/早起）的接受程度？",dimension:"lifestyle",options:[{value:1,label:"必须同步"},{value:2,label:"尽量同步"},{value:3,label:"看情况"},{value:4,label:"不太介意"},{value:5,label:"完全不干涉"}]},{id:3,text:"你对养宠物（如猫狗）的态度和意愿？",dimension:"lifestyle",options:[{value:1,label:"完全不能接受"},{value:2,label:"很难接受"},{value:3,label:"中立"},{value:4,label:"可以接受"},{value:5,label:"必须有"}]},{id:4,text:"你对伴侣吸烟、饮酒或其他成瘾品的态度？",dimension:"lifestyle",options:[{value:1,label:"零容忍"},{value:2,label:"尽量避免"},{value:3,label:"中立"},{value:4,label:"适度即可"},{value:5,label:"无所谓"}]},{id:5,text:"周末休息时，你更倾向于哪种度过方式？",dimension:"lifestyle",options:[{value:1,label:"完全宅家"},{value:2,label:"倾向宅家"},{value:3,label:"看心情"},{value:4,label:"倾向外出"},{value:5,label:"必须外出活动"}]},{id:6,text:"你对饮食口味的偏好（如辣度/咸淡）有多坚持？",dimension:"lifestyle",options:[{value:1,label:"非常挑剔"},{value:2,label:"比较挑剔"},{value:3,label:"一般"},{value:4,label:"比较随和"},{value:5,label:"完全不挑"}]},{id:7,text:"你对运动健身的频率要求是？",dimension:"lifestyle",options:[{value:1,label:"从不运动"},{value:2,label:"偶尔动动"},{value:3,label:"每周1-2次"},{value:4,label:"每周3-4次"},{value:5,label:"每天必须"}]},{id:8,text:"你对家中物品摆放的秩序感要求？",dimension:"lifestyle",options:[{value:1,label:"乱中有序"},{value:2,label:"大致归位"},{value:3,label:"普通"},{value:4,label:"井井有条"},{value:5,label:"严丝合缝"}]},{id:9,text:"对于家务分配，你更倾向于？",dimension:"lifestyle",options:[{value:1,label:"随性分配"},{value:2,label:"大致分工"},{value:3,label:"看谁有空"},{value:4,label:"明确分工"},{value:5,label:"严格轮值/外包"}]},{id:10,text:"你对电子产品使用时长（如刷手机/打游戏）的看法？",dimension:"lifestyle",options:[{value:1,label:"希望能严格控制"},{value:2,label:"希望能少一点"},{value:3,label:"适度就好"},{value:4,label:"比较宽松"},{value:5,label:"完全自由"}]},{id:11,text:"你对旅行方式的偏好？",dimension:"lifestyle",options:[{value:1,label:"随性漫游"},{value:2,label:"大致规划"},{value:3,label:"半自由行"},{value:4,label:"详细攻略"},{value:5,label:"特种兵打卡"}]},{id:12,text:"你对个人空间（独处时间）的需求程度？",dimension:"lifestyle",options:[{value:1,label:"希望能时刻粘在一起"},{value:2,label:"希望能多在一起"},{value:3,label:"平衡"},{value:4,label:"需要较多独处"},{value:5,label:"极度需要独处"}]},{id:13,text:"在共同消费中，你倾向于AA制还是混合记账？",dimension:"finance",options:[{value:1,label:"严格AA"},{value:2,label:"大额AA"},{value:3,label:"轮流付"},{value:4,label:"大部分共享"},{value:5,label:"完全不分你我"}]},{id:14,text:"你对伴侣的消费习惯的容忍度？",dimension:"finance",options:[{value:1,label:"必须节俭"},{value:2,label:"倾向节俭"},{value:3,label:"适度消费"},{value:4,label:"倾向享受"},{value:5,label:"享受当下"}]},{id:15,text:"你对冲动消费的自我评级？",dimension:"finance",options:[{value:1,label:"从不冲动"},{value:2,label:"很少冲动"},{value:3,label:"偶尔"},{value:4,label:"经常冲动"},{value:5,label:"购物狂"}]},{id:16,text:"你认为伴侣是否有知晓你所有收入和支出的权利？",dimension:"finance",options:[{value:1,label:"完全隐私"},{value:2,label:"保留部分隐私"},{value:3,label:"看情况"},{value:4,label:"大部分公开"},{value:5,label:"完全透明"}]},{id:17,text:"你对负债消费（如信用卡/花呗）的态度？",dimension:"finance",options:[{value:1,label:"极度排斥"},{value:2,label:"尽量避免"},{value:3,label:"中立"},{value:4,label:"可以接受"},{value:5,label:"习以为常"}]},{id:18,text:"你对投资理财的风险偏好？",dimension:"finance",options:[{value:1,label:"极度保守(储蓄)"},{value:2,label:"稳健理财"},{value:3,label:"平衡配置"},{value:4,label:"进取投资"},{value:5,label:"高风险高收益"}]},{id:19,text:"对于大额支出（如买车/买房），决策方式倾向于？",dimension:"finance",options:[{value:1,label:"各自决定"},{value:2,label:"告知即可"},{value:3,label:"简单商量"},{value:4,label:"共同商议"},{value:5,label:"必须一致同意"}]},{id:20,text:"你认为金钱在幸福生活中的重要性？",dimension:"finance",options:[{value:1,label:"够用就行"},{value:2,label:"基础保障"},{value:3,label:"重要"},{value:4,label:"非常重要"},{value:5,label:"决定性因素"}]},{id:21,text:"你是否有记账的习惯？",dimension:"finance",options:[{value:1,label:"从不记账"},{value:2,label:"偶尔记"},{value:3,label:"记大额"},{value:4,label:"经常记"},{value:5,label:"每一笔都记"}]},{id:22,text:"如果伴侣收入比你高很多或低很多，你会介意吗？",dimension:"finance",options:[{value:1,label:"非常介意"},{value:2,label:"有点介意"},{value:3,label:"看情况"},{value:4,label:"不太介意"},{value:5,label:"完全不介意"}]},{id:23,text:"遇到分歧时，你倾向于立即解决还是需要冷静期？",dimension:"communication",options:[{value:1,label:"必须马上沟通"},{value:2,label:"倾向当天解决"},{value:3,label:"看情况"},{value:4,label:"倾向冷静后再谈"},{value:5,label:"回避并冷静处理"}]},{id:24,text:"你对伴侣的朋友圈子和社交活动参与的意愿？",dimension:"communication",options:[{value:1,label:"希望完全融入"},{value:2,label:"希望能经常参与"},{value:3,label:"偶尔参与"},{value:4,label:"很少参与"},{value:5,label:"互不打扰"}]},{id:25,text:"在关系中，你认为情绪表达应该被量化和克制吗？",dimension:"communication",options:[{value:1,label:"完全释放"},{value:2,label:"倾向直接表达"},{value:3,label:"看场合"},{value:4,label:"倾向克制"},{value:5,label:"高度理性克制"}]},{id:26,text:"伴侣因小事生气时，你倾向于马上哄还是讲道理？",dimension:"communication",options:[{value:1,label:"马上哄"},{value:2,label:"先哄后道理"},{value:3,label:"看情况"},{value:4,label:"先讲道理"},{value:5,label:"坚持讲道理"}]},{id:27,text:"你希望伴侣回复消息的频率是？",dimension:"communication",options:[{value:1,label:"秒回"},{value:2,label:"看到就回"},{value:3,label:"忙完回"},{value:4,label:"不固定"},{value:5,label:"轮回/电话联系"}]},{id:28,text:"你对于“善意的谎言”的接受度？",dimension:"communication",options:[{value:1,label:"绝不接受"},{value:2,label:"尽量诚实"},{value:3,label:"看初衷"},{value:4,label:"可以接受"},{value:5,label:"为了和谐必须有"}]},{id:29,text:"当你有负面情绪时，你希望伴侣如何处理？",dimension:"communication",options:[{value:1,label:"默默陪伴"},{value:2,label:"倾听不评判"},{value:3,label:"给拥抱"},{value:4,label:"给建议"},{value:5,label:"帮我分析解决"}]},{id:30,text:"你认为在公共场合展示亲密行为（PDA）的尺度？",dimension:"communication",options:[{value:1,label:"完全拒绝"},{value:2,label:"仅限牵手"},{value:3,label:"适度亲密"},{value:4,label:"比较开放"},{value:5,label:"无视他人目光"}]},{id:31,text:"你对异性（或同性）好友的边界感要求？",dimension:"communication",options:[{value:1,label:"极度敏感"},{value:2,label:"比较敏感"},{value:3,label:"正常社交即可"},{value:4,label:"比较宽松"},{value:5,label:"完全信任不干涉"}]},{id:32,text:"你更倾向于哪种沟通风格？",dimension:"communication",options:[{value:1,label:"委婉含蓄"},{value:2,label:"比较委婉"},{value:3,label:"适中"},{value:4,label:"比较直接"},{value:5,label:"直来直去"}]},{id:33,text:"你对亲密接触（身体或精神）的频率和需求？",dimension:"intimacy",options:[{value:1,label:"非常低"},{value:2,label:"较低，更重精神"},{value:3,label:"适中，平衡"},{value:4,label:"较高"},{value:5,label:"非常高，强烈依赖"}]},{id:34,text:"你对伴侣的**仪式感**（如纪念日/节日）的看重程度？",dimension:"intimacy",options:[{value:1,label:"完全不看重"},{value:2,label:"偶尔即可"},{value:3,label:"看情况"},{value:4,label:"比较看重"},{value:5,label:"必须要有，并精心准备"}]},{id:35,text:"你对未来与**双方原生家庭**相处方式的期望？",dimension:"intimacy",options:[{value:1,label:"老死不相往来"},{value:2,label:"仅限节日拜访"},{value:3,label:"适度联系，保持边界"},{value:4,label:"经常联系，互相帮助"},{value:5,label:"希望完全融入对方家庭"}]},{id:36,text:"你对**生育**下一代的明确态度？",dimension:"intimacy",options:[{value:1,label:"坚决丁克"},{value:2,label:"倾向丁克"},{value:3,label:"顺其自然"},{value:4,label:"倾向生育"},{value:5,label:"必须生育"}]},{id:37,text:"你对婚前/同居**共同财产**的看法？",dimension:"intimacy",options:[{value:1,label:"必须公正划分"},{value:2,label:"倾向区分"},{value:3,label:"看情况"},{value:4,label:"倾向共有"},{value:5,label:"完全共有不分彼此"}]},{id:38,text:"如果发现伴侣与前任仍有联系，你的接受度？",dimension:"intimacy",options:[{value:1,label:"完全不能接受"},{value:2,label:"极度介意"},{value:3,label:"看情况"},{value:4,label:"接受普通朋友关系"},{value:5,label:"完全信任，不干涉"}]},{id:39,text:"你认为伴侣关系中的**安全感**主要来自于？",dimension:"intimacy",options:[{value:1,label:"经济基础和物质承诺"},{value:2,label:"稳定的行为和时间投入"},{value:3,label:"平衡"},{value:4,label:"清晰的口头承诺和表达"},{value:5,label:"无条件的爱和信任"}]},{id:40,text:"你希望伴侣如何给你提供情感支持（爱语倾向）？",dimension:"intimacy",options:[{value:1,label:"服务行为 (做事)"},{value:2,label:"精心的礼物"},{value:3,label:"高品质的相处时间"},{value:4,label:"肯定的语言"},{value:5,label:"身体接触 (拥抱/牵手)"}]},{id:41,text:"在个人发展和家庭责任之间，你的首要权重？",dimension:"values",options:[{value:1,label:"优先家庭"},{value:2,label:"倾向家庭"},{value:3,label:"平衡"},{value:4,label:"倾向事业"},{value:5,label:"优先个人事业"}]},{id:42,text:"你对人生的重大风险（如投资/换城市）的看法？",dimension:"values",options:[{value:1,label:"保守稳定"},{value:2,label:"倾向保守"},{value:3,label:"中庸"},{value:4,label:"倾向冒险"},{value:5,label:"冒险激进"}]},{id:43,text:"你对承诺的看法，例如：迟到或失约的严重程度？",dimension:"values",options:[{value:1,label:"非常看重"},{value:2,label:"比较看重"},{value:3,label:"一般"},{value:4,label:"比较包容"},{value:5,label:"理解弹性"}]},{id:44,text:"在你的生活中，情感需求和理性分析哪个更重要？",dimension:"values",options:[{value:1,label:"情感驱动"},{value:2,label:"倾向情感"},{value:3,label:"平衡"},{value:4,label:"倾向理性"},{value:5,label:"理性主导"}]},{id:45,text:"你认为对错判断是否应该有绝对的标准？",dimension:"values",options:[{value:1,label:"有绝对标准"},{value:2,label:"倾向有标准"},{value:3,label:"看情境"},{value:4,label:"倾向相对"},{value:5,label:"相对主义"}]},{id:46,text:"你对“人无完人，所以不必强求改变”的认同度？",dimension:"values",options:[{value:1,label:"完全不认同(需不断改变)"},{value:2,label:"不太认同"},{value:3,label:"中立"},{value:4,label:"比较认同"},{value:5,label:"完全认同(接纳本我)"}]},{id:47,text:"你对社会时事和政治话题的关注度？",dimension:"values",options:[{value:1,label:"完全不关心"},{value:2,label:"偶尔关注"},{value:3,label:"一般"},{value:4,label:"经常关注"},{value:5,label:"热衷讨论"}]},{id:48,text:"你认为“成功”的定义更倾向于？",dimension:"values",options:[{value:1,label:"财富地位"},{value:2,label:"社会认可"},{value:3,label:"平衡"},{value:4,label:"内心满足"},{value:5,label:"自由快乐"}]},{id:49,text:"你对待“规则”的态度？",dimension:"values",options:[{value:1,label:"严格遵守"},{value:2,label:"尽量遵守"},{value:3,label:"看情况"},{value:4,label:"灵活变通"},{value:5,label:"规则是用来打破的"}]},{id:50,text:"你认为“平淡”是婚姻的最终归宿吗？",dimension:"values",options:[{value:1,label:"绝不接受平淡"},{value:2,label:"努力抗拒"},{value:3,label:"接受但需调剂"},{value:4,label:"比较接受"},{value:5,label:"平淡才是真"}]}],E={lifestyle:{title:"第一步：生活习惯",description:"关于日常作息、卫生、娱乐、社交等硬性习惯的考察。"},finance:{title:"第二步：金钱与财务",description:"关于消费观、储蓄、投资和财务透明度的考察。"},communication:{title:"第三步：沟通与情感",description:"关于冲突处理、社交需求、情感表达和边界感的考察。"},intimacy:{title:"第四步：亲密与家庭观",description:"关于亲密需求、生育观、原生家庭和对安全感的深层考察。"},values:{title:"第五步：核心价值观",description:"关于人生目标、道德边界、风险偏好和世界观的深层考察。"}};var R={exports:{}};(function(x){var b=function(){var f=String.fromCharCode,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",j={};function N(l,t){if(!j[l]){j[l]={};for(var r=0;r<l.length;r++)j[l][l.charAt(r)]=r}return j[l][t]}var y={compressToBase64:function(l){if(l==null)return"";var t=y._compress(l,6,function(r){return h.charAt(r)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:y._decompress(l.length,32,function(t){return N(h,l.charAt(t))})},compressToUTF16:function(l){return l==null?"":y._compress(l,15,function(t){return f(t+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:y._decompress(l.length,16384,function(t){return l.charCodeAt(t)-32})},compressToUint8Array:function(l){for(var t=y.compress(l),r=new Uint8Array(t.length*2),i=0,o=t.length;i<o;i++){var m=t.charCodeAt(i);r[i*2]=m>>>8,r[i*2+1]=m%256}return r},decompressFromUint8Array:function(l){if(l==null)return y.decompress(l);for(var t=new Array(l.length/2),r=0,i=t.length;r<i;r++)t[r]=l[r*2]*256+l[r*2+1];var o=[];return t.forEach(function(m){o.push(f(m))}),y.decompress(o.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":y._compress(l,6,function(t){return _.charAt(t)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),y._decompress(l.length,32,function(t){return N(_,l.charAt(t))}))},compress:function(l){return y._compress(l,16,function(t){return f(t)})},_compress:function(l,t,r){if(l==null)return"";var i,o,m={},w={},g="",S="",d="",p=2,c=3,a=2,u=[],e=0,n=0,s;for(s=0;s<l.length;s+=1)if(g=l.charAt(s),Object.prototype.hasOwnProperty.call(m,g)||(m[g]=c++,w[g]=!0),S=d+g,Object.prototype.hasOwnProperty.call(m,S))d=S;else{if(Object.prototype.hasOwnProperty.call(w,d)){if(d.charCodeAt(0)<256){for(i=0;i<a;i++)e=e<<1,n==t-1?(n=0,u.push(r(e)),e=0):n++;for(o=d.charCodeAt(0),i=0;i<8;i++)e=e<<1|o&1,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=o>>1}else{for(o=1,i=0;i<a;i++)e=e<<1|o,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=0;for(o=d.charCodeAt(0),i=0;i<16;i++)e=e<<1|o&1,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=o>>1}p--,p==0&&(p=Math.pow(2,a),a++),delete w[d]}else for(o=m[d],i=0;i<a;i++)e=e<<1|o&1,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=o>>1;p--,p==0&&(p=Math.pow(2,a),a++),m[S]=c++,d=String(g)}if(d!==""){if(Object.prototype.hasOwnProperty.call(w,d)){if(d.charCodeAt(0)<256){for(i=0;i<a;i++)e=e<<1,n==t-1?(n=0,u.push(r(e)),e=0):n++;for(o=d.charCodeAt(0),i=0;i<8;i++)e=e<<1|o&1,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=o>>1}else{for(o=1,i=0;i<a;i++)e=e<<1|o,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=0;for(o=d.charCodeAt(0),i=0;i<16;i++)e=e<<1|o&1,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=o>>1}p--,p==0&&(p=Math.pow(2,a),a++),delete w[d]}else for(o=m[d],i=0;i<a;i++)e=e<<1|o&1,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=o>>1;p--,p==0&&(p=Math.pow(2,a),a++)}for(o=2,i=0;i<a;i++)e=e<<1|o&1,n==t-1?(n=0,u.push(r(e)),e=0):n++,o=o>>1;for(;;)if(e=e<<1,n==t-1){u.push(r(e));break}else n++;return u.join("")},decompress:function(l){return l==null?"":l==""?null:y._decompress(l.length,32768,function(t){return l.charCodeAt(t)})},_decompress:function(l,t,r){var i=[],o=4,m=4,w=3,g="",S=[],d,p,c,a,u,e,n,s={val:r(0),position:t,index:1};for(d=0;d<3;d+=1)i[d]=d;for(c=0,u=Math.pow(2,2),e=1;e!=u;)a=s.val&s.position,s.position>>=1,s.position==0&&(s.position=t,s.val=r(s.index++)),c|=(a>0?1:0)*e,e<<=1;switch(c){case 0:for(c=0,u=Math.pow(2,8),e=1;e!=u;)a=s.val&s.position,s.position>>=1,s.position==0&&(s.position=t,s.val=r(s.index++)),c|=(a>0?1:0)*e,e<<=1;n=f(c);break;case 1:for(c=0,u=Math.pow(2,16),e=1;e!=u;)a=s.val&s.position,s.position>>=1,s.position==0&&(s.position=t,s.val=r(s.index++)),c|=(a>0?1:0)*e,e<<=1;n=f(c);break;case 2:return""}for(i[3]=n,p=n,S.push(n);;){if(s.index>l)return"";for(c=0,u=Math.pow(2,w),e=1;e!=u;)a=s.val&s.position,s.position>>=1,s.position==0&&(s.position=t,s.val=r(s.index++)),c|=(a>0?1:0)*e,e<<=1;switch(n=c){case 0:for(c=0,u=Math.pow(2,8),e=1;e!=u;)a=s.val&s.position,s.position>>=1,s.position==0&&(s.position=t,s.val=r(s.index++)),c|=(a>0?1:0)*e,e<<=1;i[m++]=f(c),n=m-1,o--;break;case 1:for(c=0,u=Math.pow(2,16),e=1;e!=u;)a=s.val&s.position,s.position>>=1,s.position==0&&(s.position=t,s.val=r(s.index++)),c|=(a>0?1:0)*e,e<<=1;i[m++]=f(c),n=m-1,o--;break;case 2:return S.join("")}if(o==0&&(o=Math.pow(2,w),w++),i[n])g=i[n];else if(n===m)g=p+p.charAt(0);else return null;S.push(g),i[m++]=p+g.charAt(0),o--,p=g,o==0&&(o=Math.pow(2,w),w++)}}};return y}();x!=null?x.exports=b:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return b})})(R);var Q=R.exports;const I=U(Q),W=x=>{const b={...x,timestamp:Date.now()},f=JSON.stringify(b);return I.compressToEncodedURIComponent(f)},K=x=>{const b=I.decompressFromEncodedURIComponent(x);if(!b)return null;try{const f=JSON.parse(b);return typeof f.version=="number"&&Array.isArray(f.answers)?f:null}catch(f){return console.error("Decoding error:",f),null}},M=["lifestyle","finance","communication","intimacy","values"];function Y({onComplete:x}){const[b,f]=A.useState(new Array(k.length).fill(0)),[h,_]=A.useState(0),[j,N]=A.useState(null),[y,l]=A.useState(""),[t,r]=A.useState(!0),i=()=>{y.trim()&&r(!1)},o=M[h],m=A.useMemo(()=>k.filter(a=>a.dimension===o),[o]),w=(a,u)=>{const e=k.findIndex(s=>s.id===a);if(e===-1)return;const n=[...b];n[e]=u,f(n),j&&N(null)},g=()=>{const a=m.filter(u=>{const e=k.findIndex(n=>n.id===u.id);return b[e]===0});return a.length>0?(N(`本页还有 ${a.length} 道题未完成，请回答所有问题后再继续。`),!1):!0},S=()=>{g()&&(_(a=>a+1),window.scrollTo(0,0))},d=()=>{_(a=>a-1),window.scrollTo(0,0)},p=()=>{if(g()){if(b.some(e=>e===0)){N("还有未完成的题目，请检查。");return}const a={version:1,answers:b,name:y.trim()||"神秘人"},u=W(a);x(u)}};if(t)return v.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-xl shadow-lg text-center",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"首先，请留下你的名字"}),v.jsx("input",{type:"text",value:y,onChange:a=>l(a.target.value),placeholder:"你的昵称",className:"w-full px-4 py-3 border border-gray-300 rounded-lg mb-6 text-lg focus:ring-2 focus:ring-black focus:border-transparent outline-none",onKeyDown:a=>a.key==="Enter"&&i()}),v.jsx("button",{onClick:i,disabled:!y.trim(),className:"w-full py-3 bg-black text-white rounded-lg font-bold text-lg disabled:opacity-50 hover:bg-gray-800 transition-colors",children:"开始测试"})]});const c=Math.round(b.filter(a=>a!==0).length/k.length*100);return v.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white border border-gray-200 rounded-lg shadow-sm",children:[v.jsxs("div",{className:"sticky top-16 z-30 bg-white/95 backdrop-blur-sm -mx-6 px-6 pt-4 pb-6 shadow-sm mb-8 border-b border-gray-100 transition-all duration-300",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-end mb-2",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"灵魂契合度测试"}),v.jsxs("span",{className:"text-sm font-mono text-gray-500",children:[c,"% 完成"]})]}),v.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:v.jsx("div",{className:"bg-black h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${c}%`}})})]}),v.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:E[o].title}),v.jsx("p",{className:"text-sm text-gray-600",children:E[o].description})]})]}),v.jsx("div",{className:"space-y-10 animate-in fade-in slide-in-from-right-4 duration-500 ease-out",children:m.map(a=>{const u=k.findIndex(e=>e.id===a.id);return v.jsxs("div",{className:"border-b border-gray-50 pb-8 last:border-0 last:pb-0",children:[v.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 leading-relaxed",children:[v.jsxs("span",{className:"text-gray-300 font-mono mr-3 text-sm",children:["#",a.id]}),a.text.split(/(\*\*.*?\*\*)/g).map((e,n)=>e.startsWith("**")&&e.endsWith("**")?v.jsx("strong",{className:"font-bold text-gray-900",children:e.slice(2,-2)},n):e)]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3",children:a.options.map(e=>v.jsxs("label",{className:`
                                            relative flex flex-col items-center justify-center p-4 rounded-xl border cursor-pointer transition-all duration-200 text-center h-full
                                            ${b[u]===e.value?"bg-black text-white border-black shadow-lg transform scale-[1.02]":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:border-gray-300"}
                                        `,children:[v.jsx("input",{type:"radio",name:`question-${a.id}`,value:e.value,checked:b[u]===e.value,onChange:()=>w(a.id,e.value),className:"hidden"}),v.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.value))})]},a.id)})},h),j&&v.jsxs("div",{className:"mt-8 p-4 bg-red-50 text-red-700 rounded-lg text-center font-medium border border-red-100 animate-pulse",children:["⚠️ ",j]}),v.jsxs("div",{className:"mt-12 flex justify-between gap-4 pt-6 border-t border-gray-100",children:[v.jsx("button",{onClick:d,disabled:h===0,className:`
                        px-8 py-3 rounded-lg font-medium transition-colors
                        ${h===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}
                    `,children:"上一步"}),h<M.length-1?v.jsx("button",{onClick:S,className:"px-8 py-3 bg-black text-white font-bold rounded-lg hover:bg-gray-800 transition-all shadow-md hover:shadow-lg flex-1 sm:flex-none",children:"下一步"}):v.jsx("button",{onClick:p,className:"px-8 py-3 bg-black text-white font-bold rounded-lg hover:bg-gray-800 transition-all shadow-md hover:shadow-lg flex-1 sm:flex-none",children:"生成我的灵魂哈希"})]})]})}export{k as Q,Y as a,K as d,v as j};
