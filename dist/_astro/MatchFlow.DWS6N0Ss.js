import{j as e,Q as p,d as x}from"./Questionnaire.D81BWA_x.js";import{r as n}from"./index.CVf8TyFT.js";function b({onMatch:s}){const[t,i]=n.useState(""),o=a=>{a.preventDefault(),t.trim()&&s(t.trim())};return e.jsxs("form",{onSubmit:o,className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"hash-input",className:"block text-sm font-medium text-gray-700 mb-1",children:"Enter Partner's Soul Hash"}),e.jsx("input",{id:"hash-input",type:"text",value:t,onChange:a=>i(a.target.value),placeholder:"Paste hash here...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-black focus:border-black",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-black text-white font-medium rounded-md hover:bg-gray-800 transition-colors",children:"Start Matching"})]})}function g({result:s}){return e.jsxs("div",{className:"max-w-2xl mx-auto p-8 bg-white border border-gray-200 rounded-xl shadow-lg",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Compatibility Report"}),e.jsx("div",{className:"flex items-center justify-center gap-4 mt-6",children:e.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"64",cy:"64",r:"60",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-100"}),e.jsx("circle",{cx:"64",cy:"64",r:"60",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:377,strokeDashoffset:377-377*s.compatibilityScore/100,className:"text-black transition-all duration-1000 ease-out"})]}),e.jsxs("span",{className:"absolute text-3xl font-bold",children:[s.compatibilityScore,"%"]})]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Summary"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.summary})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Detailed Analysis"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.details})]})]})]})}const j=async(s,t)=>{let i=0;const o=s.answers.length*4;for(let r=0;r<s.answers.length;r++){const d=s.answers[r]||3,h=t.answers[r]||3;i+=Math.abs(d-h)}const a=1-i/o,m=Math.round(a*100);return{compatibilityScore:m,summary:`You have a compatibility score of ${m}%.`,details:"This is a mock analysis based on simple mathematical distance. Connect an LLM to get real insights!"}};function w(){const[s,t]=n.useState(null),[i,o]=n.useState(null),[a,m]=n.useState(null),[r,d]=n.useState(!1);n.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("host");c&&t(c)},[]);const h=l=>{t(l),window.history.pushState({},"",`/match?host=${l}`)},f=async l=>{if(o(l),d(!0),s){const c=x(s),u=x(l);if(c&&u){const y=await j(c,u);m(y)}else alert("Invalid hash found. Please try again.")}d(!1)};return a?e.jsx(g,{result:a}):r?e.jsx("div",{className:"text-center",children:"Analyzing compatibility..."}):s?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsxs("span",{className:"inline-block px-3 py-1 bg-gray-100 rounded-full text-xs font-mono text-gray-500 mb-2",children:["Matching with: ",s.substring(0,8),"..."]}),e.jsx("h2",{className:"text-xl font-bold",children:"Complete your profile to see results"})]}),e.jsx(p,{onComplete:f})]}):e.jsx(b,{onMatch:h})}export{w as default};
